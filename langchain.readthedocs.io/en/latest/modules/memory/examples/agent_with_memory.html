
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Adding Memory to an Agent &#8212; ü¶úüîó LangChain 0.0.60</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="/_/static/css/badge_only.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script async="async" src="/_/static/javascript/readthedocs-doc-embed.js"></script>
    <link rel="canonical" href="https://langchain.readthedocs.io/en/latest/modules/memory/examples/agent_with_memory.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ChatGPT Clone" href="chatgpt_clone.html" />
    <link rel="prev" title="Adding Memory to a Multi-Input Chain" href="adding_memory_chain_multiple_inputs.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  
<!-- RTD Extra Head -->

<link rel="stylesheet" href="/_/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": false, "api_host": "https://readthedocs.org", "build_date": "2023-01-11T15:11:42Z", "builder": "sphinx", "canonical_url": null, "commit": "7b6e7f6e", "docroot": "/docs/", "features": {"docsearch_disabled": false}, "global_analytics_code": "UA-17997319-1", "language": "en", "page": "modules/memory/examples/agent_with_memory", "programming_language": "words", "project": "langchain", "proxied_api_host": "/_", "source_suffix": ".ipynb", "subprojects": {}, "theme": "sphinx_book_theme", "user_analytics_code": "", "version": "latest"}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="/_/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->
</head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">ü¶úüîó LangChain 0.0.60</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../getting_started/getting_started.html">
   Quickstart Guide
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Modules
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../prompts.html">
   Prompt Templates
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../prompts/getting_started.html">
     Getting Started
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../prompts/key_concepts.html">
     Key Concepts
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../prompts/how_to_guides.html">
     How-To Guides
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../prompts/examples/custom_prompt_template.html">
       Create a custom prompt template
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../prompts/examples/custom_example_selector.html">
       Create a custom example selector
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../prompts/examples/few_shot_examples.html">
       Provide few shot examples to a prompt
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../prompts/examples/prompt_serialization.html">
       Prompt Serialization
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../prompts/examples/example_selectors.html">
       Example Selectors
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../reference/prompts.html">
     Reference
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/prompt.html">
       PromptTemplates
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/example_selector.html">
       Example Selector
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../llms.html">
   LLMs
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../llms/getting_started.html">
     Getting Started
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../llms/key_concepts.html">
     Key Concepts
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../llms/how_to_guides.html">
     How-To Guides
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../llms/generic_how_to.html">
       Generic Functionality
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
      <label for="toctree-checkbox-6">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../../llms/examples/custom_llm.html">
         Custom LLM
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../llms/examples/llm_caching.html">
         LLM Caching
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../llms/examples/llm_serialization.html">
         LLM Serialization
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../llms/integrations.html">
       Integrations
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
      <label for="toctree-checkbox-7">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../../llms/integrations/azure_openai_example.html">
         Azure OpenAI LLM Example
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../llms/integrations/huggingface_hub.html">
         HuggingFace Hub
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../llms/integrations/manifest.html">
         Manifest
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../reference/modules/llms.html">
     Reference
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../utils.html">
   Utils
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../utils/key_concepts.html">
     Key Concepts
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../utils/how_to_guides.html">
     How-To Guides
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../utils/generic_how_to.html">
       Generic Utilities
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
      <label for="toctree-checkbox-10">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../../utils/examples/bash.html">
         Bash
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../utils/examples/google_search.html">
         Google Search
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../utils/examples/python.html">
         Python REPL
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../utils/examples/requests.html">
         Requests
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../utils/examples/serpapi.html">
         SerpAPI
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../utils/examples/wolfram_alpha.html">
         Wolfram Alpha
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../utils/combine_docs_how_to.html">
       Utilities for working with Documents
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
      <label for="toctree-checkbox-11">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../../utils/combine_docs_examples/embeddings.html">
         Embeddings
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../utils/combine_docs_examples/hyde.html">
         Hypothetical Document Embeddings
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../utils/combine_docs_examples/textsplitter.html">
         Text Splitter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../utils/combine_docs_examples/vectorstores.html">
         VectorStores
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../reference/utils.html">
     Reference
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/python.html">
       Python REPL
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/serpapi.html">
       SerpAPI
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/docstore.html">
       Docstore
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/text_splitter.html">
       Text Splitter
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/embeddings.html">
       Embeddings
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/vectorstore.html">
       VectorStores
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../chains.html">
   Chains
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../chains/getting_started.html">
     Getting Started
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../chains/how_to_guides.html">
     How-To Guides
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
    <label for="toctree-checkbox-14">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../chains/generic_how_to.html">
       Generic Chains
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
      <label for="toctree-checkbox-15">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/generic/llm_chain.html">
         LLM Chain
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/generic/sequential_chains.html">
         Sequential Chains
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/generic/transformation.html">
         Transformation Chain
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../chains/combine_docs_how_to.html">
       CombineDocuments Chains
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
      <label for="toctree-checkbox-16">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/combine_docs_examples/qa_with_sources.html">
         Question Answering with Sources
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/combine_docs_examples/question_answering.html">
         Question Answering
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/combine_docs_examples/summarize.html">
         Summarization
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/combine_docs_examples/vector_db_qa.html">
         Vector DB Question/Answering
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/combine_docs_examples/vector_db_qa_with_sources.html">
         VectorDB Question Ansering with Sources
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../../chains/utility_how_to.html">
       Utility Chains
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
      <label for="toctree-checkbox-17">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/examples/llm_bash.html">
         BashChain
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/examples/llm_checker.html">
         LLMCheckerChain
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/examples/llm_math.html">
         LLM Math
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/examples/llm_requests.html">
         LLMRequestsChain
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/examples/moderation.html">
         Moderation
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/examples/pal.html">
         PAL
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="../../chains/examples/sqlite.html">
         SQLite example
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../chains/key_concepts.html">
     Key Concepts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../reference/modules/chains.html">
     Reference
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../agents.html">
   Agents
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
  <label for="toctree-checkbox-18">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../agents/getting_started.html">
     Getting Started
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../agents/key_concepts.html">
     Key Concepts
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../agents/how_to_guides.html">
     How-To Guides
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
    <label for="toctree-checkbox-19">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../agents/examples/custom_agent.html">
       Custom Agent
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../agents/examples/custom_tools.html">
       Defining Custom Tools
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../agents/examples/intermediate_steps.html">
       Intermediate Steps
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../agents/examples/max_iterations.html">
       Max Iterations
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../agents/examples/multi_input_tool.html">
       Multi Input Tools
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../agents/examples/search_tools.html">
       Search Tools
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../agents/implementations/mrkl.html">
       MRKL
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../agents/implementations/react.html">
       ReAct
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../agents/implementations/self_ask_with_search.html">
       Self Ask With Search
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../reference/modules/agents.html">
     Reference
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../../memory.html">
   Memory
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/>
  <label for="toctree-checkbox-20">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../getting_started.html">
     Getting Started
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../key_concepts.html">
     Key Concepts
    </a>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="../how_to_guides.html">
     How-To Guides
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/>
    <label for="toctree-checkbox-21">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="adding_memory.html">
       Adding Memory To an LLMChain
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="adding_memory_chain_multiple_inputs.html">
       Adding Memory to a Multi-Input Chain
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Adding Memory to an Agent
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="chatgpt_clone.html">
       ChatGPT Clone
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="conversational_agent.html">
       Conversation Agent
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="conversational_customization.html">
       Conversational Memory Customization
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="custom_memory.html">
       Custom Memory
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="multiple_memory.html">
       Multiple Memory
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Use Cases
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../use_cases/agents.html">
   Agents
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../use_cases/chatbots.html">
   Chatbots
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../use_cases/generate_examples.html">
   Generate Examples
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../use_cases/combine_docs.html">
   Data Augmented Generation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../use_cases/question_answering.html">
   Question Answering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../use_cases/summarization.html">
   Summarization
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../use_cases/evaluation.html">
   Evaluation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/>
  <label for="toctree-checkbox-22">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../use_cases/evaluation/data_augmented_question_answering.html">
     Data Augmented Question Answering
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../use_cases/evaluation/huggingface_datasets.html">
     Using HuggingFace Datasets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../use_cases/evaluation/question_answering.html">
     Question Answering
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../use_cases/model_laboratory.html">
   Model Comparison
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Reference
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../reference/installation.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../reference/integrations.html">
   Integrations
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../reference.html">
   API References
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/>
  <label for="toctree-checkbox-23">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../reference/prompts.html">
     Prompts
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/>
    <label for="toctree-checkbox-24">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/prompt.html">
       PromptTemplates
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/example_selector.html">
       Example Selector
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../reference/utils.html">
     Utilities
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/>
    <label for="toctree-checkbox-25">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/python.html">
       Python REPL
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/serpapi.html">
       SerpAPI
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/docstore.html">
       Docstore
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/text_splitter.html">
       Text Splitter
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/embeddings.html">
       Embeddings
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../reference/modules/vectorstore.html">
       VectorStores
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../reference/modules/chains.html">
     Chains
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../reference/modules/agents.html">
     Agents
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Ecosystem
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../ecosystem.html">
   LangChain Ecosystem
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/>
  <label for="toctree-checkbox-26">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../ecosystem/ai21.html">
     AI21 Labs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../ecosystem/cohere.html">
     Cohere
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../ecosystem/google_search.html">
     Google Search Wrapper
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../ecosystem/hazy_research.html">
     Hazy Research
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../ecosystem/huggingface.html">
     Hugging Face
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../ecosystem/nlpcloud.html">
     NLPCloud
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../ecosystem/openai.html">
     OpenAI
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../ecosystem/pinecone.html">
     Pinecone
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../ecosystem/serpapi.html">
     SerpAPI
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../ecosystem/weaviate.html">
     Weaviate
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../ecosystem/wolfram_alpha.html">
     Wolfram Alpha Wrapper
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Additional Resources
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../glossary.html">
   Glossary
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../gallery.html">
   LangChain Gallery
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../deployments.html">
   Deployments
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/hwchase17/langchain"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../../_sources/modules/memory/examples/agent_with_memory.ipynb.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Adding Memory to an Agent</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="adding-memory-to-an-agent">
<h1>Adding Memory to an Agent<a class="headerlink" href="#adding-memory-to-an-agent" title="Permalink to this headline">#</a></h1>
<p>This notebook goes over adding memory to an Agent. Before going through this notebook, please walkthrough the following notebooks, as this will build on top of both of them:</p>
<ul class="simple">
<li><p><a class="reference internal" href="adding_memory.html"><span class="doc std std-doc">Adding memory to an LLM Chain</span></a></p></li>
<li><p><a class="reference internal" href="../../agents/examples/custom_agent.html"><span class="doc std std-doc">Custom Agents</span></a></p></li>
</ul>
<p>In order to add a memory to an agent we are going to the the following steps:</p>
<ol class="arabic simple">
<li><p>We are going to create an LLMChain with memory.</p></li>
<li><p>We are going to use that LLMChain to create a custom Agent.</p></li>
</ol>
<p>For the purposes of this exercise, we are going to create a simple custom Agent that has access to a search tool and utilizes the <code class="docutils literal notranslate"><span class="pre">ConversationBufferMemory</span></code> class.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">langchain.agents</span> <span class="kn">import</span> <span class="n">ZeroShotAgent</span><span class="p">,</span> <span class="n">Tool</span><span class="p">,</span> <span class="n">AgentExecutor</span>
<span class="kn">from</span> <span class="nn">langchain.chains.conversation.memory</span> <span class="kn">import</span> <span class="n">ConversationBufferMemory</span>
<span class="kn">from</span> <span class="nn">langchain</span> <span class="kn">import</span> <span class="n">OpenAI</span><span class="p">,</span> <span class="n">LLMChain</span>
<span class="kn">from</span> <span class="nn">langchain.utilities</span> <span class="kn">import</span> <span class="n">GoogleSearchAPIWrapper</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">search</span> <span class="o">=</span> <span class="n">GoogleSearchAPIWrapper</span><span class="p">()</span>
<span class="n">tools</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">Tool</span><span class="p">(</span>
        <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Search&quot;</span><span class="p">,</span>
        <span class="n">func</span><span class="o">=</span><span class="n">search</span><span class="o">.</span><span class="n">run</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;useful for when you need to answer questions about current events&quot;</span>
    <span class="p">)</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Notice the usage of the <code class="docutils literal notranslate"><span class="pre">chat_history</span></code> variable in the PromptTemplate, which matches up with the dynamic key name in the ConversationBufferMemory.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Have a conversation with a human, answering the following questions as best you can. You have access to the following tools:&quot;&quot;&quot;</span>
<span class="n">suffix</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Begin!&quot;</span>

<span class="si">{chat_history}</span>
<span class="s2">Question: </span><span class="si">{input}</span>
<span class="si">{agent_scratchpad}</span><span class="s2">&quot;&quot;&quot;</span>

<span class="n">prompt</span> <span class="o">=</span> <span class="n">ZeroShotAgent</span><span class="o">.</span><span class="n">create_prompt</span><span class="p">(</span>
    <span class="n">tools</span><span class="p">,</span> 
    <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span> 
    <span class="n">suffix</span><span class="o">=</span><span class="n">suffix</span><span class="p">,</span> 
    <span class="n">input_variables</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">,</span> <span class="s2">&quot;chat_history&quot;</span><span class="p">,</span> <span class="s2">&quot;agent_scratchpad&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">memory</span> <span class="o">=</span> <span class="n">ConversationBufferMemory</span><span class="p">(</span><span class="n">memory_key</span><span class="o">=</span><span class="s2">&quot;chat_history&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We can now construct the LLMChain, with the Memory object, and then create the agent.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">llm_chain</span> <span class="o">=</span> <span class="n">LLMChain</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="n">OpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">)</span>
<span class="n">agent</span> <span class="o">=</span> <span class="n">ZeroShotAgent</span><span class="p">(</span><span class="n">llm_chain</span><span class="o">=</span><span class="n">llm_chain</span><span class="p">,</span> <span class="n">tools</span><span class="o">=</span><span class="n">tools</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">agent_chain</span> <span class="o">=</span> <span class="n">AgentExecutor</span><span class="o">.</span><span class="n">from_agent_and_tools</span><span class="p">(</span><span class="n">agent</span><span class="o">=</span><span class="n">agent</span><span class="p">,</span> <span class="n">tools</span><span class="o">=</span><span class="n">tools</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">memory</span><span class="o">=</span><span class="n">memory</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">agent_chain</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="s2">&quot;How many people live in canada?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">&gt; Entering new AgentExecutor chain...</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Thought: I need to find out the population of Canada</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Action: Search</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Action Input: Population of Canada</span>
Observation: <span class=" -Color -Color-Bold -Color-Bold-Cyan">The current population of Canada is 38,566,192 as of Saturday, December 31, 2022, based on Worldometer elaboration of the latest United Nations data. ¬∑ Canada¬†... Additional information related to Canadian population trends can be found on Statistics Canada&#39;s Population and Demography Portal. Population of Canada (real-¬†... Index to the latest information from the Census of Population. This survey conducted by Statistics Canada provides a statistical portrait of Canada and its¬†... 14 records ... Estimated number of persons by quarter of a year and by year, Canada, provinces and territories. The 2021 Canadian census counted a total population of 36,991,981, an increase of around 5.2 percent over the 2016 figure. ... Between 1990 and 2008, the¬†... ( 2 ) Census reports and other statistical publications from national statistical offices, ( 3 ) Eurostat: Demographic Statistics, ( 4 ) United Nations¬†... Canada is a country in North America. Its ten provinces and three territories extend from ... Population. ‚Ä¢ Q4 2022 estimate. 39,292,355 (37th). Information is available for the total Indigenous population and each of the three ... The term &#39;Aboriginal&#39; or &#39;Indigenous&#39; used on the Statistics Canada¬†... Jun 14, 2022 ... Determinants of health are the broad range of personal, social, economic and environmental factors that determine individual and population¬†... COVID-19 vaccination coverage across Canada by demographics and key populations. Updated every Friday at 12:00 PM Eastern Time.</span>
Thought:<span class=" -Color -Color-Bold -Color-Bold-Green"> I now know the final answer</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Final Answer: The current population of Canada is 38,566,192 as of Saturday, December 31, 2022, based on Worldometer elaboration of the latest United Nations data.</span>
<span class=" -Color -Color-Bold">&gt; Finished AgentExecutor chain.</span>
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;The current population of Canada is 38,566,192 as of Saturday, December 31, 2022, based on Worldometer elaboration of the latest United Nations data.&#39;
</pre></div>
</div>
</div>
</div>
<p>To test the memory of this agent, we can ask a followup question that relies on information in the previous exchange to be answered correctly.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">agent_chain</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="s2">&quot;what is their national anthem called?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">&gt; Entering new AgentExecutor chain...</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Thought: I need to find out what the national anthem of Canada is called.</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Action: Search</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Action Input: National Anthem of Canada</span>
Observation: <span class=" -Color -Color-Bold -Color-Bold-Cyan">Jun 7, 2010 ... https://twitter.com/CanadaImmigrantCanadian National Anthem O Canada in HQ - complete with lyrics, captions, vocals &amp; music.LYRICS:O Canada! Nov 23, 2022 ... After 100 years of tradition, O Canada was proclaimed Canada&#39;s national anthem in 1980. The music for O Canada was composed in 1880 by Calixa¬†... O Canada, national anthem of Canada. It was proclaimed the official national anthem on July 1, 1980. ‚ÄúGod Save the Queen‚Äù remains the royal anthem of Canada¬†... O Canada! Our home and native land! True patriot love in all of us command. Car ton bras sait porter l&#39;√©p√©e,. Il sait porter la croix! &quot;O Canada&quot; (French: √î Canada) is the national anthem of Canada. The song was originally commissioned by Lieutenant Governor of Quebec Th√©odore Robitaille¬†... Feb 1, 2018 ... It was a simple tweak ‚Äî just two words. But with that, Canada just voted to make its national anthem, ‚ÄúO Canada,‚Äù gender neutral,¬†... &quot;O Canada&quot; was proclaimed Canada&#39;s national anthem on July 1,. 1980, 100 years after it was first sung on June 24, 1880. The music. Patriotic music in Canada dates back over 200 years as a distinct category from British or French patriotism, preceding the first legal steps to¬†... Feb 4, 2022 ... English version: O Canada! Our home and native land! True patriot love in all of us command. With glowing hearts we¬†... Feb 1, 2018 ... Canada&#39;s Senate has passed a bill making the country&#39;s national anthem gender-neutral. If you&#39;re not familiar with the words to ‚ÄúO Canada,‚Äù¬†...</span>
Thought:<span class=" -Color -Color-Bold -Color-Bold-Green"> I now know the final answer.</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Final Answer: The national anthem of Canada is called &quot;O Canada&quot;.</span>
<span class=" -Color -Color-Bold">&gt; Finished AgentExecutor chain.</span>
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;The national anthem of Canada is called &quot;O Canada&quot;.&#39;
</pre></div>
</div>
</div>
</div>
<p>We can see that the agent remembered that the previous question was about Canada, and properly asked Google Search what the name of Canada‚Äôs national anthem was.</p>
<p>For fun, let‚Äôs compare this to an agent that does NOT have memory.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prefix</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Have a conversation with a human, answering the following questions as best you can. You have access to the following tools:&quot;&quot;&quot;</span>
<span class="n">suffix</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Begin!&quot;</span>

<span class="s2">Question: </span><span class="si">{input}</span>
<span class="si">{agent_scratchpad}</span><span class="s2">&quot;&quot;&quot;</span>

<span class="n">prompt</span> <span class="o">=</span> <span class="n">ZeroShotAgent</span><span class="o">.</span><span class="n">create_prompt</span><span class="p">(</span>
    <span class="n">tools</span><span class="p">,</span> 
    <span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">,</span> 
    <span class="n">suffix</span><span class="o">=</span><span class="n">suffix</span><span class="p">,</span> 
    <span class="n">input_variables</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">,</span> <span class="s2">&quot;agent_scratchpad&quot;</span><span class="p">]</span>
<span class="p">)</span>
<span class="n">llm_chain</span> <span class="o">=</span> <span class="n">LLMChain</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="n">OpenAI</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">prompt</span><span class="o">=</span><span class="n">prompt</span><span class="p">)</span>
<span class="n">agent</span> <span class="o">=</span> <span class="n">ZeroShotAgent</span><span class="p">(</span><span class="n">llm_chain</span><span class="o">=</span><span class="n">llm_chain</span><span class="p">,</span> <span class="n">tools</span><span class="o">=</span><span class="n">tools</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">agent_without_memory</span> <span class="o">=</span> <span class="n">AgentExecutor</span><span class="o">.</span><span class="n">from_agent_and_tools</span><span class="p">(</span><span class="n">agent</span><span class="o">=</span><span class="n">agent</span><span class="p">,</span> <span class="n">tools</span><span class="o">=</span><span class="n">tools</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">agent_without_memory</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;How many people live in canada?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">&gt; Entering new AgentExecutor chain...</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Thought: I need to find out the population of Canada</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Action: Search</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Action Input: Population of Canada</span>
Observation: <span class=" -Color -Color-Bold -Color-Bold-Cyan">The current population of Canada is 38,566,192 as of Saturday, December 31, 2022, based on Worldometer elaboration of the latest United Nations data. ¬∑ Canada¬†... Additional information related to Canadian population trends can be found on Statistics Canada&#39;s Population and Demography Portal. Population of Canada (real-¬†... Index to the latest information from the Census of Population. This survey conducted by Statistics Canada provides a statistical portrait of Canada and its¬†... 14 records ... Estimated number of persons by quarter of a year and by year, Canada, provinces and territories. The 2021 Canadian census counted a total population of 36,991,981, an increase of around 5.2 percent over the 2016 figure. ... Between 1990 and 2008, the¬†... ( 2 ) Census reports and other statistical publications from national statistical offices, ( 3 ) Eurostat: Demographic Statistics, ( 4 ) United Nations¬†... Canada is a country in North America. Its ten provinces and three territories extend from ... Population. ‚Ä¢ Q4 2022 estimate. 39,292,355 (37th). Information is available for the total Indigenous population and each of the three ... The term &#39;Aboriginal&#39; or &#39;Indigenous&#39; used on the Statistics Canada¬†... Jun 14, 2022 ... Determinants of health are the broad range of personal, social, economic and environmental factors that determine individual and population¬†... COVID-19 vaccination coverage across Canada by demographics and key populations. Updated every Friday at 12:00 PM Eastern Time.</span>
Thought:<span class=" -Color -Color-Bold -Color-Bold-Green"> I now know the final answer</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Final Answer: The current population of Canada is 38,566,192 as of Saturday, December 31, 2022, based on Worldometer elaboration of the latest United Nations data.</span>
<span class=" -Color -Color-Bold">&gt; Finished AgentExecutor chain.</span>
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;The current population of Canada is 38,566,192 as of Saturday, December 31, 2022, based on Worldometer elaboration of the latest United Nations data.&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">agent_without_memory</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;what is their national anthem called?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">&gt; Entering new AgentExecutor chain...</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Thought: I should look up the answer</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Action: Search</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Action Input: national anthem of [country]</span>
Observation: <span class=" -Color -Color-Bold -Color-Bold-Cyan">Most nation states have an anthem, defined as &quot;a song, as of praise, devotion, or patriotism&quot;; most anthems are either marches or hymns in style. List of all countries around the world with its national anthem. ... Title and lyrics in the language of the country and translated into English, Aug 1, 2021 ... 1. Afghanistan, &quot;Milli Surood&quot; (National Anthem) ¬∑ 2. Armenia, &quot;Mer Hayrenik&quot; (Our Fatherland) ¬∑ 3. Azerbaijan (a transcontinental country with¬†... A national anthem is a patriotic musical composition symbolizing and evoking eulogies of the history and traditions of a country or nation. National Anthem of Every Country ; Fiji, ‚ÄúMeda Dau Doka‚Äù (‚ÄúGod Bless Fiji‚Äù) ; Finland, ‚ÄúMaamme‚Äù. (‚ÄúOur Land‚Äù) ; France, ‚ÄúLa Marseillaise‚Äù (‚ÄúThe Marseillaise‚Äù). You can find an anthem in the menu at the top alphabetically or you can use the search feature. This site is focussed on the scholarly study of national anthems¬†... Feb 13, 2022 ... The 38-year-old country music artist had the honor of singing the National Anthem during this year&#39;s big game, and she did not disappoint. Oldest of the World&#39;s National Anthems ; France, La Marseillaise (‚ÄúThe Marseillaise‚Äù), 1795 ; Argentina, Himno Nacional Argentino (‚ÄúArgentine National Anthem‚Äù)¬†... Mar 3, 2022 ... Country music star Jessie James Decker gained the respect of music and hockey fans alike after a jaw-dropping rendition of &quot;The Star-Spangled¬†... This list shows the country on the left, the national anthem in the ... There are many countries over the world who have a national anthem of their own.</span>
Thought:<span class=" -Color -Color-Bold -Color-Bold-Green"> I now know the final answer</span>
<span class=" -Color -Color-Bold -Color-Bold-Green">Final Answer: The national anthem of [country] is [name of anthem].</span>
<span class=" -Color -Color-Bold">&gt; Finished AgentExecutor chain.</span>
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;The national anthem of [country] is [name of anthem].&#39;
</pre></div>
</div>
</div>
</div>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="adding_memory_chain_multiple_inputs.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Adding Memory to a Multi-Input Chain</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="chatgpt_clone.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">ChatGPT Clone</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Harrison Chase<br/>
  
      &copy; Copyright 2022, Harrison Chase.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>